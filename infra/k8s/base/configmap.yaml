apiVersion: v1
kind: ConfigMap
metadata:
  name: flowmaestro-config
  namespace: flowmaestro
data:
  # Server configuration
  NODE_ENV: "production"
  BACKEND_PORT: "3001"
  BACKEND_HOST: "0.0.0.0"
  LOG_LEVEL: "info"

  # URL configuration (used for OAuth redirects, email links, CORS, etc.)
  API_URL: "https://api.flowmaestro.ai"
  APP_URL: "https://app.flowmaestro.ai"
  DOCS_URL: "https://docs.flowmaestro.ai"
  MARKETING_URL: "https://flowmaestro.ai"

  # Database configuration
  # Keep pool size low for small CloudSQL instances (db-g1-small has ~25-50 max connections)
  POSTGRES_POOL_SIZE: "5"

  # Temporal worker configuration
  TEMPORAL_TASK_QUEUE: "flowmaestro-orchestrator"
  TEMPORAL_MAX_CONCURRENT_ACTIVITIES: "10"
  TEMPORAL_MAX_CONCURRENT_WORKFLOWS: "10"
